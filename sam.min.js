function SAMJS(a){function b(a,b,c){var d=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");d.onreadystatechange=function(){if(4===d.readyState)if(200===d.status)b(JSON.parse(d.responseText));else{var a="An error has occurred";switch(d.status){case 400:a="Bad request. Are you missing a required parameter?";break;case 401:a="Unauthorized. No valid API key provided.";break;case 404:a="Not found. The requested item does not exist.";break;case 500:case 502:case 503:case 504:a="Server error. Something went wrong on our end."}c?c(d.status,a):console&&console.error(d.status,a)}},d.open("GET",a,!0),d.setRequestHeader("Content-type","application/json"),d.send()}function c(){var a,c;arguments.length>1?(a=arguments[0],c=arguments[1],d(a,c)):(c=arguments[0],b(g.apiRoute+"/stories",function(a){g._stories=a,c.success(a)},c.error))}function d(a,c){var e=a;"object"==typeof a&&(e=a[0],a.splice(0,1)),b(g.apiRoute+"/stories/"+e,function(b){g._story[e]=b,c.success(b),"object"==typeof a&&(0===a.length?c.done&&c.done():d(storyIds,c))},c.error)}function e(a){if("undefined"==typeof a)return g._stories;if("string"==typeof a)return void 0===g._story[a]?-1:g._story[a];if("object"==typeof a){for(var b,c=[],d=0;d<a.length;d++)b=g._story[a[d]],c.push(void 0!==b?b:-1);return c}}function f(a,b){var c=g._story[a];if(void 0===c)return-1;if("undefined"==typeof b){for(var d=0;d<g._stories.length;d++)if(g._stories[d].id===a){for(var e=[],f=0;f<g._stories[d].socialAssets.length;f++)e.push(g._stories[d].socialAssets[f].id);return e}return-1}if("string"==typeof b){for(var d=0;d<c.socialAssets.length;d++)if(c.socialAssets[d].id===b)return c.socialAssets[d];return-1}if("object"==typeof b){for(var h,i=c.socialAssets[b],e=[],d=0;d<b.length;d++)h=i[b[d]],e.push(void 0!==h?h:-1);return e}}var g=this;this.apiRoute=a?a:"/sam",this._stories=[],this._story={},this.stories={fetch:c,get:e,assets:{get:f}}}